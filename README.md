# CombineRecSys
Репо для микросервиса формирования рекомендаций на проекте Combine

# Название проекта

Краткое описание проекта.

## Содержание

1. [Установка и запуск](#установка-и-запуск)
2. [Структура проекта](#структура-проекта)
3. [Статус проекта](#статус-проекта)
4. [Зависимости](#зависимости)
5. [Описание API](#описание-api)
6. [Описание моделей](#описание-моделей)

## Установка и запуск

### Разработка и локальный запуск сервиса

```bash
# Если poetry не установлен 
pip install poetry

poetry install
poetry shell
python main.py
```

### Запуск в Docker
```bash
docker build -t combine-ml

docker run \
-p 7000:7000 \
--network=host \
--mount type=bind,source=./models,target=/app/models \
combine-ml
```

## Структура проекта
Описание структуры каталогов и файлов в проекте.

``` bash
/models
  # Обученные модели - хронятся в git LFS / облаке
/notebooks
  # Ноутбуки с ресерчем и обучением моделей - хронятся в облаке
/data
  # Различные данные - хронятся в облаке
/src
  /api # Веб представление
  /data_base # Работа с БД
  /models # ML-модели
  /service # Обработка запросов 
/tests
  /...
Dockerfile
main.py
poetry.lock
pyproject.toml
README.md
``` 

## Статус проекта
Статус проекта: **в разработке**

Задачи на текущую итерацию:
- Разработка сервиса, к которому будет обращаться основной портал или сторонние порталы
- Разработка и обучение простейших моделей
- Внедрение простейших моделий в сервис


## Зависимости
Перечислите используемые библиотеки и инструменты.

- FastAPI
- numpy
- pandas
- scipy

## Описание API

На данном этапе предоставляются рекомендации 4 типов:
- user2user — подбор близких по духу людей для формирования команды;
- user2team — поиск подходящих участников для команды;
- team2user — рекомендации команд, которые могут быть интересны пользователю;
- hack2user — рекомендации хакатонов, которые могут заинтересовать пользователя;

Выбор, с помощью какой именно модели, делать предсказание на себя берет система

Описание входных и выходных данных моделей

### user2user

Get-запрос к сервису:
```bash
{host}/api/reco/u2u/{user_id}[?k_recs={k_recs}]
```
Ответ сервиса:
```bash
[
  {
    "user_id": 0, # id рекомендованного пользователя
    "model_id": 0, # id модели, чтобы сообщить, какой моделью выполнена рекомендация 
    "reason": "string" # Обоснование рекомендации от модели
  }
]
```

### user2team

Get-запрос к сервису:
```bash
{host}/api/reco/u2t/{team_id}[?k_recs={k_recs}]
```
Ответ сервиса:
```bash
[
  {
    "user_id": 0, # id рекомендованного пользователя
    "model_id": 0, # id модели, чтобы сообщить, какой моделью выполнена рекомендация 
    "reason": "string" # Обоснование рекомендации от модели
  }
]
```

### team2user

Get-запрос к сервису:
```bash
{host}/api/reco/t2u/{user_id}[?k_recs={k_recs}]
```
Ответ сервиса:
```bash
[
  {
    "team_id": 0, # id рекомендованной команды
    "model_id": 0, # id модели, чтобы сообщить, какой моделью выполнена рекомендация 
    "reason": "string" # Обоснование рекомендации от модели
  }
]
```

### hack2user

Get-запрос к сервису:
```bash
{host}/api/reco/h2u/{user_id}[?k_recs={k_recs}]
```
Ответ сервиса:
```bash
[
  {
    "hack_id": 0, # id рекомендованного хакатона
    "model_id": 0, # id модели, чтобы сообщить, какой моделью выполнена рекомендация 
    "reason": "string" # Обоснование рекомендации от модели
  }
]
```

## Описание моделей

Представлены описания стабильных и рабочих моделей

to be updated...

### user2user

#### RandomUserRecommendationsModel

Модель для случайной рекомендации со смешными объяснениями рекомендаций

#### ContentSimilarUserRecommendationsModel

Модель, которыая рекомендует похожих пользователей на данного пользователя

#### ContentСomplementaryUserRecommendationsModel

Модель, которыая рекомендует пользователей, которые хорошо дополняют стек технологий

#### FriendOfFriendRecommendationsModel

Модель рекомендации юзеров, с которыми успешно работали в команде ваши друзья

### user2team

#### RandomUserRecommendationsModel

Модель для случайной рекомендации со смешными объяснениями рекомендаций

#### ContentСomplementaryUserRecommendationsModel

Модель, которыая рекомендует пользователей, которые хорошо дополняют стек технологий

#### FriendOfFriendRecommendationsModel

Модель рекомендации юзеров, с которыми успешно работали в команде ваши друзья

### team2user

#### RandomTeamRecommendationsModel

Модель для случайной рекомендации со смешными объяснениями рекомендаций

#### HackBasedTeamRecommendationsModel

Модель смотрит, какой хакатон вам было бы интересно постетить и подбирает подходящий

### hack2user

#### RandomHackRecommendationsModel

Модель для случайной рекомендации со смешными объяснениями рекомендаций

#### UserBasedHackRecommendationsModel

Модель рекомендует хакатоны, на которые зарегистрировались пл+охожие на вас юзеры


## Ноутбуки и модели

Ноутбуки лежат по адресу: https://disk.yandex.ru/d/Mx6o2tJcToXm4g

Модели лежат по адресу: https://disk.yandex.ru/d/uUiyzEIDyDR9Ug

